# テスト仕様書

## 1. 単体テスト (Unit Tests)

### 1.1 Socketクラスのテスト

#### 初期化テスト
- **目的**: Socketオブジェクトが正しく初期化されることを確認
- **テスト項目**:
  - コンストラクタでの初期化
  - ファイルディスクリプタの有効性
  - ホストとポートの設定

#### バインドテスト
- **目的**: ソケットのバインド操作の検証
- **テスト項目**:
  - 有効なポートへのバインド
  - 既に使用中のポートへのバインド
  - 無効なアドレスへのバインド

#### 非ブロッキング設定テスト
- **目的**: 非ブロッキングモード設定の検証
- **テスト項目**:
  - 非ブロッキングモードの設定
  - フラグの検証

### 1.2 Serverクラスのテスト

#### 初期化テスト
- **目的**: サーバーの初期化プロセスの検証
- **テスト項目**:
  - 基本設定での初期化
  - 複数ポートでの初期化
  - 無効な設定での初期化

#### イベント処理テスト
- **目的**: イベントループの動作検証
- **テスト項目**:
  - poll()の呼び出し
  - イベントハンドリング
  - タイムアウト処理

## 2. 統合テスト (Integration Tests)

### 2.1 基本的な接続テスト
- **目的**: サーバー・クライアント間の基本的な接続の検証
- **テスト手順**:
  1. サーバーの起動
  2. クライアントの接続
  3. 接続状態の確認

### 2.2 リクエスト・レスポンステスト
- **目的**: HTTP通信の基本的な機能の検証
- **テスト手順**:
  1. GETリクエストの送信
  2. レスポンスの受信と検証
  3. 各種HTTPメソッドのテスト

## 3. テスト実行方法

### 3.1 単体テストの実行
```bash
# 全ての単体テストを実行
./run_unit_tests

# 特定のテストクラスのみ実行
./run_unit_tests --gtest_filter="SocketTest.*"
```

### 3.2 統合テストの実行
```bash
# 全ての統合テストを実行
./run_integration_tests

# 特定のテストを実行
./run_integration_tests --gtest_filter="ServerIntegrationTest.*"
```